"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkonboard_example"] = self["webpackChunkonboard_example"] || []).push([["node_modules_web3-onboard_core_dist_ccip-c78d2f16_js"],{

/***/ "./node_modules/@web3-onboard/core/dist/ccip-c78d2f16.js":
/*!***************************************************************!*\
  !*** ./node_modules/@web3-onboard/core/dist/ccip-c78d2f16.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ccipRequest: () => (/* binding */ ccipRequest),\n/* harmony export */   offchainLookup: () => (/* binding */ offchainLookup),\n/* harmony export */   offchainLookupAbiItem: () => (/* binding */ offchainLookupAbiItem),\n/* harmony export */   offchainLookupSignature: () => (/* binding */ offchainLookupSignature)\n/* harmony export */ });\n/* harmony import */ var _index_021f6a62_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-021f6a62.js */ \"./node_modules/@web3-onboard/core/dist/index-021f6a62.js\");\n/* harmony import */ var _transactionRequest_be6a8ea9_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transactionRequest-be6a8ea9.js */ \"./node_modules/@web3-onboard/core/dist/transactionRequest-be6a8ea9.js\");\n\n\n\nclass OffchainLookupError extends _transactionRequest_be6a8ea9_js__WEBPACK_IMPORTED_MODULE_1__.B {\n    constructor({ callbackSelector, cause, data, extraData, sender, urls, }) {\n        super(cause.shortMessage ||\n            'An error occurred while fetching for an offchain result.', {\n            cause,\n            metaMessages: [\n                ...(cause.metaMessages || []),\n                cause.metaMessages?.length ? '' : [],\n                'Offchain Gateway Call:',\n                urls && [\n                    '  Gateway URL(s):',\n                    ...urls.map((url) => `    ${(0,_transactionRequest_be6a8ea9_js__WEBPACK_IMPORTED_MODULE_1__.W)(url)}`),\n                ],\n                `  Sender: ${sender}`,\n                `  Data: ${data}`,\n                `  Callback selector: ${callbackSelector}`,\n                `  Extra data: ${extraData}`,\n            ].flat(),\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'OffchainLookupError'\n        });\n    }\n}\nclass OffchainLookupResponseMalformedError extends _transactionRequest_be6a8ea9_js__WEBPACK_IMPORTED_MODULE_1__.B {\n    constructor({ result, url }) {\n        super('Offchain gateway response is malformed. Response data must be a hex value.', {\n            metaMessages: [\n                `Gateway URL: ${(0,_transactionRequest_be6a8ea9_js__WEBPACK_IMPORTED_MODULE_1__.W)(url)}`,\n                `Response: ${(0,_index_021f6a62_js__WEBPACK_IMPORTED_MODULE_0__.s)(result)}`,\n            ],\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'OffchainLookupResponseMalformedError'\n        });\n    }\n}\nclass OffchainLookupSenderMismatchError extends _transactionRequest_be6a8ea9_js__WEBPACK_IMPORTED_MODULE_1__.B {\n    constructor({ sender, to }) {\n        super('Reverted sender address does not match target contract address (`to`).', {\n            metaMessages: [\n                `Contract address: ${to}`,\n                `OffchainLookup sender address: ${sender}`,\n            ],\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'OffchainLookupSenderMismatchError'\n        });\n    }\n}\n\nfunction isAddressEqual(a, b) {\n    if (!(0,_transactionRequest_be6a8ea9_js__WEBPACK_IMPORTED_MODULE_1__.m)(a, { strict: false }))\n        throw new _transactionRequest_be6a8ea9_js__WEBPACK_IMPORTED_MODULE_1__.n({ address: a });\n    if (!(0,_transactionRequest_be6a8ea9_js__WEBPACK_IMPORTED_MODULE_1__.m)(b, { strict: false }))\n        throw new _transactionRequest_be6a8ea9_js__WEBPACK_IMPORTED_MODULE_1__.n({ address: b });\n    return a.toLowerCase() === b.toLowerCase();\n}\n\nconst offchainLookupSignature = '0x556f1830';\nconst offchainLookupAbiItem = {\n    name: 'OffchainLookup',\n    type: 'error',\n    inputs: [\n        {\n            name: 'sender',\n            type: 'address',\n        },\n        {\n            name: 'urls',\n            type: 'string[]',\n        },\n        {\n            name: 'callData',\n            type: 'bytes',\n        },\n        {\n            name: 'callbackFunction',\n            type: 'bytes4',\n        },\n        {\n            name: 'extraData',\n            type: 'bytes',\n        },\n    ],\n};\nasync function offchainLookup(client, { blockNumber, blockTag, data, to, }) {\n    const { args } = (0,_index_021f6a62_js__WEBPACK_IMPORTED_MODULE_0__.d)({\n        data,\n        abi: [offchainLookupAbiItem],\n    });\n    const [sender, urls, callData, callbackSelector, extraData] = args;\n    const { ccipRead } = client;\n    const ccipRequest_ = ccipRead && typeof ccipRead?.request === 'function'\n        ? ccipRead.request\n        : ccipRequest;\n    try {\n        if (!isAddressEqual(to, sender))\n            throw new OffchainLookupSenderMismatchError({ sender, to });\n        const result = await ccipRequest_({ data: callData, sender, urls });\n        const { data: data_ } = await (0,_index_021f6a62_js__WEBPACK_IMPORTED_MODULE_0__.c)(client, {\n            blockNumber,\n            blockTag,\n            data: (0,_transactionRequest_be6a8ea9_js__WEBPACK_IMPORTED_MODULE_1__.J)([\n                callbackSelector,\n                (0,_index_021f6a62_js__WEBPACK_IMPORTED_MODULE_0__.e)([{ type: 'bytes' }, { type: 'bytes' }], [result, extraData]),\n            ]),\n            to,\n        });\n        return data_;\n    }\n    catch (err) {\n        throw new OffchainLookupError({\n            callbackSelector,\n            cause: err,\n            data,\n            extraData,\n            sender,\n            urls,\n        });\n    }\n}\nasync function ccipRequest({ data, sender, urls, }) {\n    let error = new Error('An unknown error occurred.');\n    for (let i = 0; i < urls.length; i++) {\n        const url = urls[i];\n        const method = url.includes('{data}') ? 'GET' : 'POST';\n        const body = method === 'POST' ? { data, sender } : undefined;\n        try {\n            const response = await fetch(url.replace('{sender}', sender).replace('{data}', data), {\n                body: JSON.stringify(body),\n                method,\n            });\n            let result;\n            if (response.headers.get('Content-Type')?.startsWith('application/json')) {\n                result = (await response.json()).data;\n            }\n            else {\n                result = (await response.text());\n            }\n            if (!response.ok) {\n                error = new _index_021f6a62_js__WEBPACK_IMPORTED_MODULE_0__.H({\n                    body,\n                    details: result?.error\n                        ? (0,_index_021f6a62_js__WEBPACK_IMPORTED_MODULE_0__.s)(result.error)\n                        : response.statusText,\n                    headers: response.headers,\n                    status: response.status,\n                    url,\n                });\n                continue;\n            }\n            if (!(0,_transactionRequest_be6a8ea9_js__WEBPACK_IMPORTED_MODULE_1__.i)(result)) {\n                error = new OffchainLookupResponseMalformedError({\n                    result,\n                    url,\n                });\n                continue;\n            }\n            return result;\n        }\n        catch (err) {\n            error = new _index_021f6a62_js__WEBPACK_IMPORTED_MODULE_0__.H({\n                body,\n                details: err.message,\n                url,\n            });\n        }\n    }\n    throw error;\n}\n\n\n//# sourceMappingURL=ccip-c78d2f16.js.map\n\n\n//# sourceURL=webpack://onboard-example/./node_modules/@web3-onboard/core/dist/ccip-c78d2f16.js?");

/***/ })

}]);